<?php
//This is generated by Swapp Software Application on 07/11/2018 06:43:37 PM for PHP
include("../api_base/formbase.php");
class swapp_table_info extends swappform
{
    Public $owner;
    Public $tablename;
    Public $columid;
    Public $fieldname;
    Public $data_type;
    Public $iscompulsory;
    Public $entry_para_maxg_cal;
    Public $engdesc;
    Public $unicodedesc;
    Public $iscombo;
    Public $combotable;
    Public $comboengfield;
    Public $combounicodefield;
    Public $combodatafield;
    Public $isprimarykey;
    Public $isadddisplay;
    Public $isreadonly;
    Public $isfinddisplay;
    Public $isqueryinput;
    Public $combotablecondition;
    public function __construct(&$connection)
    {
     		 parent::__construct($connection);
         $this->owner='';
         $this->tablename='';
         $this->columid='';
         $this->fieldname='';
         $this->data_type='';
         $this->iscompulsory='';
         $this->entry_para_maxg_cal='';
         $this->engdesc='';
         $this->unicodedesc='';
         $this->iscombo='';
         $this->combotable='';
         $this->comboengfield='';
         $this->combounicodefield='';
         $this->combodatafield='';
         $this->isprimarykey='';
         $this->isadddisplay='';
         $this->isreadonly='';
         $this->isfinddisplay='';
         $this->isqueryinput='';
         $this->combotablecondition='';
	   }
    private function entryvalidation()
    {
    		$this->start_validation();
        $this->checkrequired($this->fieldname,'Fieldname');
        $this->checkrequired($this->data_type,'Data Type');
        $this->checkrequired($this->iscompulsory,'Compulsory');
        $this->checkrequired($this->entry_para_maxg_cal,'EPMC');
        $this->checkrequired($this->engdesc,'English Desc');
        $this->checkrequired($this->unicodedesc,'Unicode Desc');
        $this->checkrequired($this->iscombo,'Combo');
        $this->checkrequired($this->isprimarykey,'Primary Key');
        $this->checkrequired($this->isadddisplay,'Add Display');
        $this->checkrequired($this->isreadonly,'Read Only');
        $this->checkrequired($this->isfinddisplay,'Find Display');
        $this->checkrequired($this->isqueryinput,'Query Input');
        $this->end_validation();
        return $this->invalidid;
	  }
    private function datavalidation()
    {
        $this->start_validation();
    		$this->invalidid=0;
    		$this->invalidmessagetext='Validated';
    		$this->end_validation();
    		return $this->invalidid;
    }
    public function insert()
    {
        $this->dataoperationmode = operationmode::Insert;
	    if ($this->entryvalidation() <> 0)
        {
            return 0;
            exit;
        }
        elseif ($this->datavalidation() <> 0)
        {
            return 0;
            exit;
        }
        $query = "
            insert into swapp_table_info(
            owner
            ,tablename
            ,columid
            ,fieldname
            ,data_type
            ,iscompulsory
            ,entry_para_maxg_cal
            ,engdesc
            ,unicodedesc
            ,iscombo
            ,combotable
            ,comboengfield
            ,combounicodefield
            ,combodatafield
            ,isprimarykey
            ,isadddisplay
            ,isreadonly
            ,isfinddisplay
            ,isqueryinput
            ,combotablecondition
	        )
	        values (
            ".$this->invl($this->owner,false)."
            ,".$this->invl($this->tablename,false)."
            ,".$this->invl($this->columid,true)."
            ,".$this->invl($this->fieldname,false)."
            ,".$this->invl($this->data_type,false)."
            ,".$this->invl($this->iscompulsory,true)."
            ,".$this->invl($this->entry_para_maxg_cal,true)."
            ,".$this->invl($this->engdesc,false)."
            ,".$this->invl($this->unicodedesc,false)."
            ,".$this->invl($this->iscombo,true)."
            ,".$this->invl($this->combotable,false)."
            ,".$this->invl($this->comboengfield,false)."
            ,".$this->invl($this->combounicodefield,false)."
            ,".$this->invl($this->combodatafield,false)."
            ,".$this->invl($this->isprimarykey,true)."
            ,".$this->invl($this->isadddisplay,true)."
            ,".$this->invl($this->isreadonly,true)."
            ,".$this->invl($this->isfinddisplay,true)."
            ,".$this->invl($this->isqueryinput,true)."
            ,".$this->invl($this->combotablecondition,false)."
            )";
        $result = oci_parse($this->connection, $query);
        if (oci_execute($result,OCI_NO_AUTO_COMMIT))
        {
            return 1;
            exit;
        }
        else
        {
            return 0;
            exit;
        }
    }
    public function display()
	  {
		    $this->dataoperationmode = operationmode::Select;
		    $cond='';
        if ($cond!='')
		    {
		        $query = "select t.* from swapp_table_info t where ".$cond;
			      $result = oci_parse($this->connection, $query);
            $r = oci_execute($result);
			      return $result;
		     }
		     else
		     {
		         $query = "select t.* from swapp_table_info t";
			       $result = oci_parse($this->connection, $query);
             $r = oci_execute($result);
			       return $result;
		     }
	  }
    public function update()
    {
        $this->dataoperationmode = operationmode::Update;
        if ($this->entryvalidation() <> 0)
        {
            return 0;
            exit;
        }
        elseif ($this->datavalidation() <> 0)
        {
            return 0;
            exit;
        }
        $query = "
        update swapp_table_info set 
        owner ='".$this->invl($this->owner,false)."'
        ,tablename ='".$this->invl($this->tablename,false)."'
        ,columid = ".$this->invl($this->columid,true)."
        ,fieldname ='".$this->invl($this->fieldname,false)."'
        ,data_type ='".$this->invl($this->data_type,false)."'
        ,iscompulsory = ".$this->invl($this->iscompulsory,true)."
        ,entry_para_maxg_cal = ".$this->invl($this->entry_para_maxg_cal,true)."
        ,engdesc ='".$this->invl($this->engdesc,false)."'
        ,unicodedesc ='".$this->invl($this->unicodedesc,false)."'
        ,iscombo = ".$this->invl($this->iscombo,true)."
        ,combotable ='".$this->invl($this->combotable,false)."'
        ,comboengfield ='".$this->invl($this->comboengfield,false)."'
        ,combounicodefield ='".$this->invl($this->combounicodefield,false)."'
        ,combodatafield ='".$this->invl($this->combodatafield,false)."'
        ,isprimarykey = ".$this->invl($this->isprimarykey,true)."
        ,isadddisplay = ".$this->invl($this->isadddisplay,true)."
        ,isreadonly = ".$this->invl($this->isreadonly,true)."
        ,isfinddisplay = ".$this->invl($this->isfinddisplay,true)."
        ,isqueryinput = ".$this->invl($this->isqueryinput,true)."
        ,combotablecondition ='".$this->invl($this->combotablecondition,false)."'
        where 
        owner ='".$this->invl($this->owner,false)."'
        tablename ='".$this->invl($this->tablename,false)."'
        columid = ".$this->invl($this->columid,true)."
        ";
        $result = oci_parse($this->connection, $query);
        if (oci_execute($result,OCI_NO_AUTO_COMMIT))
        {
            return 1;
            exit;
        }
            else
        {
            return 0;
            exit;
        }
    }
    public function delete()
    {
        $this->dataoperationmode = operationmode::Update;
        if ($this->entryvalidation() <> 0)
        {
            return 0;
            exit;
        }
        elseif ($this->datavalidation() <> 0)
        {
            return 0;
            exit;
        }
        $query = "
        delete from swapp_table_info
        where 
        owner ='".$this->invl($this->owner,false)."'
        tablename ='".$this->invl($this->tablename,false)."'
        columid ='".$this->invl($this->columid,false)."'
        ";
        $result = oci_parse($this->connection, $query);
        if (oci_execute($result,OCI_NO_AUTO_COMMIT))
        {
             return 1;
             exit;
        }
        else
        {
            return 0;
            exit;
        }
    }
    public function fetch()
    {
        $this->dataoperationmode = operationmode::Select;
        $query = "select 
        owner
        ,tablename
        ,columid
        ,fieldname
        ,data_type
        ,iscompulsory
        ,entry_para_maxg_cal
        ,engdesc
        ,unicodedesc
        ,iscombo
        ,combotable
        ,comboengfield
        ,combounicodefield
        ,combodatafield
        ,isprimarykey
        ,isadddisplay
        ,isreadonly
        ,isfinddisplay
        ,isqueryinput
        ,combotablecondition
        from SWAPP_TABLE_INFO where 
        owner ='".$this->invl($this->owner,false)."'
        tablename ='".$this->invl($this->tablename,false)."'
        columid = ".$this->invl($this->columid,true)."
        ";
        $result = oci_parse($this->connection, $query);
        $r = oci_execute($result);
        if ($row = oci_fetch_array($result,OCI_ASSOC+OCI_RETURN_NULLS))
        {
                $this->owner = $row['OWNER'];
                $this->tablename = $row['TABLENAME'];
                $this->columid = $row['COLUMID'];
                $this->fieldname = $row['FIELDNAME'];
                $this->data_type = $row['DATA_TYPE'];
                $this->iscompulsory = $row['ISCOMPULSORY'];
                $this->entry_para_maxg_cal = $row['ENTRY_PARA_MAXG_CAL'];
                $this->engdesc = $row['ENGDESC'];
                $this->unicodedesc = $row['UNICODEDESC'];
                $this->iscombo = $row['ISCOMBO'];
                $this->combotable = $row['COMBOTABLE'];
                $this->comboengfield = $row['COMBOENGFIELD'];
                $this->combounicodefield = $row['COMBOUNICODEFIELD'];
                $this->combodatafield = $row['COMBODATAFIELD'];
                $this->isprimarykey = $row['ISPRIMARYKEY'];
                $this->isadddisplay = $row['ISADDDISPLAY'];
                $this->isreadonly = $row['ISREADONLY'];
                $this->isfinddisplay = $row['ISFINDDISPLAY'];
                $this->isqueryinput = $row['ISQUERYINPUT'];
                $this->combotablecondition = $row['COMBOTABLECONDITION'];
                $this->found=true;
                return true;
        }
        else
        {
        return false;
        }
    }
}
?>

